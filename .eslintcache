[{"C:\\Users\\Martin\\spoti-vision\\src\\index.js":"1","C:\\Users\\Martin\\spoti-vision\\src\\store\\store.js":"2","C:\\Users\\Martin\\spoti-vision\\src\\router\\AppRouter.js":"3","C:\\Users\\Martin\\spoti-vision\\src\\reducers\\playlist.js":"4","C:\\Users\\Martin\\spoti-vision\\src\\reducers\\profile.js":"5","C:\\Users\\Martin\\spoti-vision\\src\\reducers\\albums.js":"6","C:\\Users\\Martin\\spoti-vision\\src\\reducers\\artists.js":"7","C:\\Users\\Martin\\spoti-vision\\src\\reducers\\player.js":"8","C:\\Users\\Martin\\spoti-vision\\src\\components\\RedirectPage.js":"9","C:\\Users\\Martin\\spoti-vision\\src\\components\\Home.js":"10","C:\\Users\\Martin\\spoti-vision\\src\\components\\Dashboard.js":"11","C:\\Users\\Martin\\spoti-vision\\src\\components\\Visualizer.js":"12","C:\\Users\\Martin\\spoti-vision\\src\\components\\NotFoundPage.js":"13","C:\\Users\\Martin\\spoti-vision\\src\\components\\Header.js":"14","C:\\Users\\Martin\\spoti-vision\\src\\components\\SearchForm.js":"15","C:\\Users\\Martin\\spoti-vision\\src\\components\\Loader.js":"16","C:\\Users\\Martin\\spoti-vision\\src\\components\\Profile.js":"17","C:\\Users\\Martin\\spoti-vision\\src\\components\\SearchResult.js":"18","C:\\Users\\Martin\\spoti-vision\\src\\utils\\functions.js":"19","C:\\Users\\Martin\\spoti-vision\\src\\utils\\constants.js":"20","C:\\Users\\Martin\\spoti-vision\\src\\actions\\result.js":"21","C:\\Users\\Martin\\spoti-vision\\src\\components\\Current.js":"22","C:\\Users\\Martin\\spoti-vision\\src\\components\\PlayList.js":"23","C:\\Users\\Martin\\spoti-vision\\src\\utils\\api.js":"24","C:\\Users\\Martin\\spoti-vision\\src\\components\\AlbumsList.js":"25","C:\\Users\\Martin\\spoti-vision\\src\\components\\ArtistsList.js":"26","C:\\Users\\Martin\\spoti-vision\\src\\utils\\styles.js":"27","C:\\Users\\Martin\\spoti-vision\\src\\components\\Tops.js":"28","C:\\Users\\Martin\\spoti-vision\\src\\router\\RedirectRoute.js":"29","C:\\Users\\Martin\\spoti-vision\\src\\components\\TopsLoader.js":"30","C:\\Users\\Martin\\spoti-vision\\src\\components\\PlayerBar.js":"31"},{"size":331,"mtime":1612443888007,"results":"32","hashOfConfig":"33"},{"size":730,"mtime":1613844329131,"results":"34","hashOfConfig":"33"},{"size":1834,"mtime":1614975730489,"results":"35","hashOfConfig":"33"},{"size":462,"mtime":1613566529449,"results":"36","hashOfConfig":"33"},{"size":543,"mtime":1613491916689,"results":"37","hashOfConfig":"33"},{"size":438,"mtime":1612957936655,"results":"38","hashOfConfig":"33"},{"size":448,"mtime":1612447148613,"results":"39","hashOfConfig":"33"},{"size":559,"mtime":1614965159080,"results":"40","hashOfConfig":"33"},{"size":785,"mtime":1614867980126,"results":"41","hashOfConfig":"33"},{"size":1369,"mtime":1615140219035,"results":"42","hashOfConfig":"33"},{"size":2663,"mtime":1615719810314,"results":"43","hashOfConfig":"33"},{"size":4776,"mtime":1615638911985,"results":"44","hashOfConfig":"33"},{"size":290,"mtime":1614448250307,"results":"45","hashOfConfig":"33"},{"size":327,"mtime":1613843392009,"results":"46","hashOfConfig":"33"},{"size":1612,"mtime":1613845344910,"results":"47","hashOfConfig":"33"},{"size":689,"mtime":1612186723393,"results":"48","hashOfConfig":"33"},{"size":3283,"mtime":1615041837025,"results":"49","hashOfConfig":"33"},{"size":2530,"mtime":1614975533336,"results":"50","hashOfConfig":"33"},{"size":1132,"mtime":1615731577382,"results":"51","hashOfConfig":"33"},{"size":550,"mtime":1614010944518,"results":"52","hashOfConfig":"33"},{"size":4578,"mtime":1615140211279,"results":"53","hashOfConfig":"33"},{"size":427,"mtime":1613911989006,"results":"54","hashOfConfig":"33"},{"size":2663,"mtime":1614448239053,"results":"55","hashOfConfig":"33"},{"size":1781,"mtime":1615736377940,"results":"56","hashOfConfig":"33"},{"size":2690,"mtime":1614448349177,"results":"57","hashOfConfig":"33"},{"size":2506,"mtime":1614448319507,"results":"58","hashOfConfig":"33"},{"size":696,"mtime":1614004873766,"results":"59","hashOfConfig":"33"},{"size":1534,"mtime":1615039855380,"results":"60","hashOfConfig":"33"},{"size":556,"mtime":1614974921608,"results":"61","hashOfConfig":"33"},{"size":1278,"mtime":1615041823337,"results":"62","hashOfConfig":"33"},{"size":2026,"mtime":1615736967528,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"1uc0eb9",{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"66"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Martin\\spoti-vision\\src\\index.js",[],["128","129"],"C:\\Users\\Martin\\spoti-vision\\src\\store\\store.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\router\\AppRouter.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\reducers\\playlist.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\reducers\\profile.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\reducers\\albums.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\reducers\\artists.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\reducers\\player.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\RedirectPage.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\Home.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\Dashboard.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\Visualizer.js",["130"],"import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\nimport { Chip } from '@material-ui/core';\r\nimport ExitToAppRoundedIcon from '@material-ui/icons/ExitToAppRounded';\r\n\r\nimport PlayerBar from './PlayerBar';\r\nimport {\r\n  getCoverImage,\r\n  initiateGetAudioDetails,\r\n  initiateGetCurrTrack,\r\n} from '../actions/result';\r\nimport spotify_icon from '../images/Spotify_Icon_RGB_Black.png';\r\nimport { sessionExpired } from '../utils/functions';\r\n\r\nconst Visualizer = props => {\r\n  const { dispatch, isValidSession, history, location, player } = props;\r\n  const [albumCover, setAlbumCover] = useState('');\r\n  const [trackId, setTrackId] = useState('');\r\n  const [tempo, setTempo] = useState(120);\r\n  const [opaSwitch, setOpaSwitch] = useState(1);\r\n\r\n  const vBack = {\r\n    zIndex: 2,\r\n    // visibility: 'hidden',\r\n    opacity: opaSwitch,\r\n    transition: 'visibility 0s 1s, opacity 1s linear',\r\n  };\r\n\r\n  const showItems = () => {\r\n    setOpaSwitch(1);\r\n    setTimeout(() => {\r\n      setOpaSwitch(0);\r\n    }, 2000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('mousemove', showItems);\r\n    showItems();\r\n  }, []);\r\n\r\n  // should somehow adjust\r\n  const diagonal = Math.sqrt(\r\n    window.innerWidth * window.innerWidth +\r\n      window.innerHeight * window.innerHeight\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isValidSession()) {\r\n      const currTrack = async () => {\r\n        const result = await dispatch(initiateGetCurrTrack());\r\n        const { id } = result?.track ? result.track.item : '';\r\n        setTrackId(id);\r\n      };\r\n      if (!trackId) {\r\n        currTrack();\r\n      } else {\r\n        setAlbumCover(player.item.album.images[0].url);\r\n        setTimeout(currTrack, player.timer);\r\n      }\r\n    } else {\r\n      sessionExpired(history, location.pathname);\r\n    }\r\n  }, [dispatch, isValidSession, history, location, player, trackId]);\r\n\r\n  useEffect(() => {\r\n    const getThoseColours = () => {\r\n      // dispatch(getCoverImage(albumCover));\r\n    };\r\n    if (albumCover) {\r\n      getThoseColours();\r\n    }\r\n  }, [albumCover, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (isValidSession()) {\r\n      dispatch(initiateGetAudioDetails(trackId));\r\n    } else {\r\n      sessionExpired(history, location.pathname);\r\n    }\r\n  }, [dispatch, isValidSession, history, location, trackId]);\r\n\r\n  useEffect(() => {\r\n    setTempo(player?.audio ? player.audio.tempo : 120);\r\n  }, [player.audio]);\r\n\r\n  if (!_.isEmpty(player.item)) {\r\n    const backColors = player?.cover\r\n      ? player.cover.result.colors.image_colors\r\n      : ['gray', 'black', 'darkred'];\r\n\r\n    const first = backColors[0];\r\n    const second = backColors[1];\r\n    const third = backColors[2];\r\n\r\n    const speed = (60 * 36 * 4) / tempo;\r\n\r\n    const background = {\r\n      background: `repeating-conic-gradient(from 0deg, ${\r\n        player?.cover ? first.closest_palette_color_html_code : first\r\n      } 0deg 10deg, ${\r\n        player?.cover ? second.closest_palette_color_html_code : second\r\n      } 10deg 20deg, ${\r\n        player?.cover ? third.closest_palette_color_html_code : third\r\n      } 20deg 30deg)`,\r\n      animation: `rotate ${speed}s linear infinite`,\r\n      width: `${diagonal}px`,\r\n      height: `${diagonal}px`,\r\n      borderRadius: '100%',\r\n      left: `-${(diagonal - window.innerWidth) / 2}px`,\r\n    };\r\n\r\n    const cover = player.item.album.images[0];\r\n    const height = cover.height;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <div className=\"back\">\r\n            <img\r\n              style={vBack}\r\n              className=\"spotify v-background\"\r\n              src={spotify_icon}\r\n              alt=\"Spotify\"\r\n            />\r\n            <Link to=\"/dashboard\">\r\n              <ExitToAppRoundedIcon\r\n                className=\"v-background\"\r\n                id=\"exit-v\"\r\n                style={vBack}\r\n              />\r\n            </Link>\r\n            {!_.isEmpty(player) && (\r\n              <>\r\n                <img\r\n                  className=\"cover\"\r\n                  style={{ marginTop: `calc(50vh - ${height / 2}px)` }}\r\n                  alt={player.item.name}\r\n                  src={cover.url}\r\n                />\r\n                <Chip\r\n                  style={vBack}\r\n                  id=\"cover-label\"\r\n                  label={`${player.item.artists[0].name} - ${player.item.name}`}\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"backy\" style={background}></div>\r\n        </div>\r\n        <PlayerBar {...props} />\r\n      </>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nconst mapaStateToProps = state => {\r\n  return {\r\n    player: state.player,\r\n  };\r\n};\r\n\r\nexport default connect(mapaStateToProps)(Visualizer);\r\n","C:\\Users\\Martin\\spoti-vision\\src\\components\\NotFoundPage.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\Header.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\SearchForm.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\Loader.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\Profile.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\SearchResult.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\utils\\functions.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\utils\\constants.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\actions\\result.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\Current.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\PlayList.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\utils\\api.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\AlbumsList.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\ArtistsList.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\utils\\styles.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\Tops.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\router\\RedirectRoute.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\TopsLoader.js",[],"C:\\Users\\Martin\\spoti-vision\\src\\components\\PlayerBar.js",[],{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","severity":1,"message":"136","line":10,"column":3,"nodeType":"137","messageId":"138","endLine":10,"endColumn":16},"no-native-reassign",["139"],"no-negated-in-lhs",["140"],"no-unused-vars","'getCoverImage' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]